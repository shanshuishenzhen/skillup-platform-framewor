# 考试系统使用指南

## 📋 目录
- [系统概述](#系统概述)
- [快速启动](#快速启动)
- [管理员操作指南](#管理员操作指南)
- [用户操作指南](#用户操作指南)
- [功能模块说明](#功能模块说明)
- [故障排除](#故障排除)

## 🎯 系统概述

本考试系统是一个基于 Next.js 和 Supabase 的现代化在线考试平台，支持：
- 多种题型（选择题、判断题、填空题、简答题、编程题）
- 实时防作弊监控
- 智能成绩分析
- 灵活的考试配置
- 响应式设计，支持多设备访问

## 🚀 快速启动

### 1. 环境要求
- Node.js 18+ 
- npm 或 pnpm
- 现代浏览器（Chrome、Firefox、Safari、Edge）

### 2. 启动开发服务器
```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 访问地址
http://localhost:3001
```

### 3. 生产部署
```bash
# 构建项目
npm run build

# 启动生产服务器
npm start
```

## 👨‍💼 管理员操作指南

### 登录管理后台
1. 访问系统首页
2. 点击「管理员登录」
3. 输入管理员凭据
4. 进入管理控制台

### 题目管理

#### 创建题目
1. 导航到「题目管理」页面 (`/questions`)
2. 点击「添加题目」按钮
3. 选择题目类型：
   - **选择题**：设置选项和正确答案
   - **判断题**：设置正确答案（是/否）
   - **填空题**：设置标准答案
   - **简答题**：设置评分标准
   - **编程题**：设置测试用例
4. 填写题目信息：
   - 题目内容
   - 难度等级（简单/中等/困难）
   - 分值
   - 标签分类
5. 保存题目

#### 题目批量操作
- **导入题目**：支持 Excel/CSV 格式批量导入
- **导出题目**：导出题库备份
- **批量编辑**：选中多个题目进行批量操作

### 考试管理

#### 创建考试
1. 导航到「考试管理」页面 (`/exams`)
2. 点击「创建考试」
3. 配置考试基本信息：
   - 考试名称
   - 考试描述
   - 考试时长
   - 开始/结束时间
4. 选择题目：
   - 手动选择题目
   - 按标签自动组卷
   - 设置题目分值
5. 配置考试设置：
   - 是否允许重考
   - 防作弊设置
   - 成绩公布方式
6. 发布考试

#### 考试监控
- **实时监控**：查看考试进行状态
- **防作弊检测**：监控异常行为
- **考生管理**：查看考生列表和状态

### 成绩管理

#### 查看成绩
1. 进入「成绩管理」
2. 选择考试
3. 查看成绩统计：
   - 平均分
   - 及格率
   - 分数分布
4. 导出成绩报告

#### 成绩分析
- **题目分析**：查看各题目正确率
- **考生分析**：个人成绩详情
- **趋势分析**：历史成绩对比

## 👨‍🎓 用户操作指南

### 注册登录
1. 访问系统首页
2. 点击「注册」创建账户
3. 验证邮箱
4. 完善个人信息
5. 登录系统

### 参加考试

#### 开始考试
1. 登录后查看「我的考试」
2. 选择要参加的考试
3. 阅读考试说明
4. 点击「开始考试」
5. 确认考试环境（摄像头、麦克风权限）

#### 答题过程
1. **选择题**：点击选项选择答案
2. **判断题**：选择「正确」或「错误」
3. **填空题**：在输入框中填写答案
4. **简答题**：在文本区域输入答案
5. **编程题**：在代码编辑器中编写代码

#### 考试功能
- **保存草稿**：自动保存答题进度
- **标记题目**：标记需要回顾的题目
- **时间提醒**：剩余时间提醒
- **题目导航**：快速跳转到指定题目

#### 提交考试
1. 检查答题完成情况
2. 点击「提交考试」
3. 确认提交
4. 查看考试结果（如果允许）

### 查看成绩
1. 进入「我的成绩」
2. 查看考试列表
3. 点击查看详细成绩
4. 查看错题解析（如果开放）

## 🔧 功能模块说明

### 核心功能模块

#### 1. 用户认证系统
- 基于 Supabase Auth
- 支持邮箱注册/登录
- 角色权限管理
- 密码重置功能

#### 2. 题目管理系统
- 多种题型支持
- 题目分类标签
- 难度等级管理
- 批量导入导出

#### 3. 考试管理系统
- 灵活的考试配置
- 自动组卷功能
- 考试时间控制
- 考试状态管理

#### 4. 防作弊系统
- 摄像头监控
- 屏幕切换检测
- 异常行为记录
- 实时警告提醒

#### 5. 成绩分析系统
- 自动评分
- 统计分析
- 可视化图表
- 报告生成

### 技术架构

#### 前端技术栈
- **框架**：Next.js 14 (App Router)
- **语言**：TypeScript
- **样式**：Tailwind CSS
- **组件库**：shadcn/ui
- **状态管理**：Zustand
- **表单处理**：React Hook Form + Zod

#### 后端技术栈
- **数据库**：Supabase (PostgreSQL)
- **认证**：Supabase Auth
- **存储**：Supabase Storage
- **实时功能**：Supabase Realtime

## 🛠️ 故障排除

### 常见问题

#### 1. 无法启动开发服务器
```bash
# 清除缓存
rm -rf .next
rm -rf node_modules
npm install
npm run dev
```

#### 2. 数据库连接失败
- 检查 `.env.local` 文件中的 Supabase 配置
- 确认 Supabase 项目状态
- 检查网络连接

#### 3. 组件加载失败
- 检查组件导入路径
- 确认依赖包已安装
- 查看浏览器控制台错误信息

#### 4. 考试无法提交
- 检查网络连接
- 确认考试时间未超时
- 查看浏览器控制台错误

### 性能优化建议

#### 1. 数据库优化
- 为常用查询添加索引
- 使用 RLS 策略优化权限检查
- 定期清理过期数据

#### 2. 前端优化
- 启用图片懒加载
- 使用代码分割
- 优化包大小

#### 3. 缓存策略
- 配置适当的缓存头
- 使用 CDN 加速静态资源
- 实现客户端缓存

### 日志和监控

#### 查看系统日志
```bash
# 开发环境日志
npm run dev

# 生产环境日志
npm run build
npm start
```

#### 监控指标
- 响应时间
- 错误率
- 用户活跃度
- 系统资源使用率

## 📞 技术支持

如遇到技术问题，请：
1. 查看本指南的故障排除部分
2. 检查浏览器控制台错误信息
3. 查看系统日志
4. 联系技术支持团队

---

**系统版本**：v1.0.0  
**最后更新**：2025年9月2日  
**文档版本**：1.0