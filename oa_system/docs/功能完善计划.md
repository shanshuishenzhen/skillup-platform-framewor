# OAç³»ç»ŸåŠŸèƒ½å®Œå–„è®¡åˆ’

## ğŸ“‹ å½“å‰é¡¹ç›®çŠ¶æ€åˆ†æ

### ç°æœ‰æŠ€æœ¯æ ˆ
- **åç«¯**: Node.js + Express + MongoDB + Mongoose
- **å‰ç«¯**: React + React Router + Axios
- **è®¤è¯**: JWT + bcryptjs
- **å·²å®‰è£…ä¾èµ–**: socket.io, multer (ä½†æœªä½¿ç”¨)

### å·²å®ç°åŠŸèƒ½
- âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿ (æ³¨å†Œ/ç™»å½•/JWT)
- âœ… åŸºç¡€é¡¹ç›®ç®¡ç† (CRUD)
- âœ… ä»»åŠ¡æ¨¡å‹å®šä¹‰
- âœ… å‰ç«¯è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†

### ç¼ºå¤±åŠŸèƒ½
- âŒ å³æ—¶é€šè®¯ç³»ç»Ÿ
- âŒ æ–‡ä»¶ä¸Šä¼ ä¸å…±äº«
- âŒ å®Œæ•´çš„é¡¹ç›®ç®¡ç†åŠŸèƒ½
- âŒ å®æ—¶é€šçŸ¥
- âŒ ç”¨æˆ·ç•Œé¢ä¼˜åŒ–

## ğŸ¯ åŠŸèƒ½å®Œå–„ä¼˜å…ˆçº§

### ç¬¬ä¸€ä¼˜å…ˆçº§ (ç«‹å³å®ç°)
1. **æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ** - åˆ©ç”¨å·²å®‰è£…çš„multer
2. **å®Œå–„é¡¹ç›®ç®¡ç†** - å¢å¼ºç°æœ‰åŠŸèƒ½
3. **å³æ—¶é€šè®¯åŸºç¡€** - åˆ©ç”¨å·²å®‰è£…çš„socket.io

### ç¬¬äºŒä¼˜å…ˆçº§ (åç»­å®ç°)
4. **å®æ—¶é€šçŸ¥ç³»ç»Ÿ**
5. **ç”¨æˆ·ç•Œé¢ä¼˜åŒ–**
6. **é«˜çº§åŠŸèƒ½æ‰©å±•**

## ğŸ“ 1. æ–‡ä»¶ç®¡ç†ç³»ç»Ÿå®ç°

### 1.1 åç«¯æ–‡ä»¶ç®¡ç†
éœ€è¦åˆ›å»ºçš„æ–‡ä»¶ï¼š
- `models/File.js` - æ–‡ä»¶æ¨¡å‹
- `routes/files.js` - æ–‡ä»¶è·¯ç”±
- `middleware/upload.js` - æ–‡ä»¶ä¸Šä¼ ä¸­é—´ä»¶

### 1.2 å‰ç«¯æ–‡ä»¶ç®¡ç†
éœ€è¦åˆ›å»ºçš„ç»„ä»¶ï¼š
- `components/files/FileUpload.js` - æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
- `components/files/FileList.js` - æ–‡ä»¶åˆ—è¡¨ç»„ä»¶
- `components/files/FilePreview.js` - æ–‡ä»¶é¢„è§ˆç»„ä»¶

### 1.3 åŠŸèƒ½ç‰¹æ€§
- æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½
- æ–‡ä»¶åˆ†ç±»ç®¡ç†
- æ–‡ä»¶æƒé™æ§åˆ¶
- æ–‡ä»¶é¢„è§ˆåŠŸèƒ½
- æ–‡ä»¶æœç´¢

## ğŸ’¬ 2. å³æ—¶é€šè®¯ç³»ç»Ÿå®ç°

### 2.1 åç«¯é€šè®¯ç³»ç»Ÿ
éœ€è¦åˆ›å»ºçš„æ–‡ä»¶ï¼š
- `models/Message.js` - æ¶ˆæ¯æ¨¡å‹
- `models/ChatRoom.js` - èŠå¤©å®¤æ¨¡å‹
- `routes/messages.js` - æ¶ˆæ¯è·¯ç”±
- `socket/socketHandlers.js` - Socket.ioå¤„ç†å™¨

### 2.2 å‰ç«¯é€šè®¯ç³»ç»Ÿ
éœ€è¦åˆ›å»ºçš„ç»„ä»¶ï¼š
- `components/chat/ChatWindow.js` - èŠå¤©çª—å£
- `components/chat/MessageList.js` - æ¶ˆæ¯åˆ—è¡¨
- `components/chat/MessageInput.js` - æ¶ˆæ¯è¾“å…¥
- `components/chat/UserList.js` - åœ¨çº¿ç”¨æˆ·åˆ—è¡¨

### 2.3 åŠŸèƒ½ç‰¹æ€§
- ä¸€å¯¹ä¸€ç§èŠ
- ç¾¤ç»„èŠå¤©
- æ–‡ä»¶ä¼ è¾“
- æ¶ˆæ¯å†å²
- åœ¨çº¿çŠ¶æ€
- æ¶ˆæ¯å·²è¯»çŠ¶æ€

## ğŸ“Š 3. å®Œå–„é¡¹ç›®ç®¡ç†åŠŸèƒ½

### 3.1 å¢å¼ºç°æœ‰åŠŸèƒ½
éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶ï¼š
- `models/Project.js` - å¢åŠ å­—æ®µ
- `models/Task.js` - å®Œå–„ä»»åŠ¡æ¨¡å‹
- `routes/projects.js` - å¢åŠ API
- `components/projects/` - å®Œå–„å‰ç«¯ç»„ä»¶

### 3.2 æ–°å¢åŠŸèƒ½
- é¡¹ç›®æˆå‘˜ç®¡ç†
- ä»»åŠ¡åˆ†é…ä¸è·Ÿè¸ª
- é¡¹ç›®è¿›åº¦å¯è§†åŒ–
- é¡¹ç›®æ–‡ä»¶å…³è”
- é¡¹ç›®è®¨è®ºåŒº

## ğŸ”” 4. å®æ—¶é€šçŸ¥ç³»ç»Ÿ

### 4.1 é€šçŸ¥ç±»å‹
- é¡¹ç›®æ›´æ–°é€šçŸ¥
- ä»»åŠ¡åˆ†é…é€šçŸ¥
- æ¶ˆæ¯é€šçŸ¥
- æ–‡ä»¶å…±äº«é€šçŸ¥
- ç³»ç»Ÿå…¬å‘Š

### 4.2 å®ç°æ–¹å¼
- WebSocketå®æ—¶æ¨é€
- æµè§ˆå™¨é€šçŸ¥API
- é‚®ä»¶é€šçŸ¥(å¯é€‰)

## ğŸ¨ 5. ç”¨æˆ·ç•Œé¢ä¼˜åŒ–

### 5.1 UIæ¡†æ¶å‡çº§
å»ºè®®å¼•å…¥ç°ä»£UIåº“ï¼š
- **Ant Design** - ä¼ä¸šçº§UIç»„ä»¶
- **Material-UI** - Googleè®¾è®¡é£æ ¼
- **Chakra UI** - ç®€æ´ç°ä»£

### 5.2 ç•Œé¢æ”¹è¿›
- å“åº”å¼è®¾è®¡
- æš—è‰²ä¸»é¢˜æ”¯æŒ
- æ›´å¥½çš„å¯¼èˆªä½“éªŒ
- æ•°æ®å¯è§†åŒ–å›¾è¡¨

## ğŸ“… å®æ–½æ—¶é—´è¡¨

### ç¬¬1å‘¨ï¼šæ–‡ä»¶ç®¡ç†ç³»ç»Ÿ
- [ ] åç«¯æ–‡ä»¶ä¸Šä¼ API
- [ ] æ–‡ä»¶æ¨¡å‹å’Œæ•°æ®åº“è®¾è®¡
- [ ] å‰ç«¯æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
- [ ] æ–‡ä»¶åˆ—è¡¨å’Œé¢„è§ˆåŠŸèƒ½

### ç¬¬2å‘¨ï¼šå³æ—¶é€šè®¯åŸºç¡€
- [ ] Socket.ioæœåŠ¡å™¨é…ç½®
- [ ] æ¶ˆæ¯æ¨¡å‹è®¾è®¡
- [ ] åŸºç¡€èŠå¤©åŠŸèƒ½
- [ ] å‰ç«¯èŠå¤©ç•Œé¢

### ç¬¬3å‘¨ï¼šé¡¹ç›®ç®¡ç†å®Œå–„
- [ ] é¡¹ç›®æˆå‘˜ç®¡ç†
- [ ] ä»»åŠ¡åˆ†é…åŠŸèƒ½
- [ ] é¡¹ç›®è¿›åº¦è·Ÿè¸ª
- [ ] é¡¹ç›®æ–‡ä»¶å…³è”

### ç¬¬4å‘¨ï¼šç³»ç»Ÿé›†æˆä¸ä¼˜åŒ–
- [ ] å®æ—¶é€šçŸ¥ç³»ç»Ÿ
- [ ] UIç•Œé¢ä¼˜åŒ–
- [ ] åŠŸèƒ½æµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–

## ğŸ› ï¸ æŠ€æœ¯å®ç°ç»†èŠ‚

### æ•°æ®åº“è®¾è®¡æ‰©å±•
```javascript
// æ–‡ä»¶æ¨¡å‹
const FileSchema = {
  filename: String,
  originalName: String,
  mimetype: String,
  size: Number,
  path: String,
  uploadedBy: ObjectId,
  project: ObjectId,
  permissions: [{
    user: ObjectId,
    permission: String // 'read', 'write', 'admin'
  }],
  createdAt: Date
};

// æ¶ˆæ¯æ¨¡å‹
const MessageSchema = {
  content: String,
  sender: ObjectId,
  room: ObjectId,
  messageType: String, // 'text', 'file', 'image'
  fileUrl: String,
  readBy: [{
    user: ObjectId,
    readAt: Date
  }],
  createdAt: Date
};

// èŠå¤©å®¤æ¨¡å‹
const ChatRoomSchema = {
  name: String,
  type: String, // 'private', 'group', 'project'
  members: [ObjectId],
  project: ObjectId, // å¯é€‰ï¼Œé¡¹ç›®ç›¸å…³èŠå¤©å®¤
  createdBy: ObjectId,
  createdAt: Date
};
```

### APIç«¯ç‚¹æ‰©å±•
```javascript
// æ–‡ä»¶ç®¡ç†API
POST   /api/files/upload
GET    /api/files/
GET    /api/files/:id
DELETE /api/files/:id
GET    /api/files/project/:projectId

// æ¶ˆæ¯API
GET    /api/messages/room/:roomId
POST   /api/messages/
PUT    /api/messages/:id/read
GET    /api/messages/search

// èŠå¤©å®¤API
GET    /api/rooms/
POST   /api/rooms/
GET    /api/rooms/:id
PUT    /api/rooms/:id/members
```

### Socket.ioäº‹ä»¶è®¾è®¡
```javascript
// å®¢æˆ·ç«¯å‘é€äº‹ä»¶
socket.emit('join_room', roomId);
socket.emit('send_message', messageData);
socket.emit('typing', { roomId, isTyping });

// æœåŠ¡å™¨å‘é€äº‹ä»¶
socket.emit('new_message', messageData);
socket.emit('user_joined', userData);
socket.emit('user_left', userData);
socket.emit('typing_indicator', { user, isTyping });
```

## ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®

### æ–°å¢ä¾èµ–åŒ…
```bash
# åç«¯æ–°å¢ä¾èµ–
npm install multer path fs-extra

# å‰ç«¯æ–°å¢ä¾èµ–
cd client
npm install antd @ant-design/icons socket.io-client
```

### ç¯å¢ƒå˜é‡é…ç½®
```env
# .envæ–‡ä»¶
NODE_ENV=development
PORT=5000
MONGODB_URI=mongodb://localhost:27017/simple-oa
JWT_SECRET=your_jwt_secret_key
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. æ–‡ä»¶å­˜å‚¨ä¼˜åŒ–
- å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ 
- å›¾ç‰‡å‹ç¼©å¤„ç†
- CDNé›†æˆ(å¯é€‰)

### 2. æ•°æ®åº“ä¼˜åŒ–
- æ¶ˆæ¯åˆ†é¡µåŠ è½½
- ç´¢å¼•ä¼˜åŒ–
- æ•°æ®å½’æ¡£ç­–ç•¥

### 3. å‰ç«¯ä¼˜åŒ–
- ç»„ä»¶æ‡’åŠ è½½
- è™šæ‹Ÿæ»šåŠ¨
- ç¼“å­˜ç­–ç•¥

## ğŸ”’ å®‰å…¨è€ƒè™‘

### 1. æ–‡ä»¶å®‰å…¨
- æ–‡ä»¶ç±»å‹éªŒè¯
- æ–‡ä»¶å¤§å°é™åˆ¶
- ç—…æ¯’æ‰«æ(å¯é€‰)
- è®¿é—®æƒé™æ§åˆ¶

### 2. é€šè®¯å®‰å…¨
- æ¶ˆæ¯åŠ å¯†
- æ•æ„Ÿä¿¡æ¯è¿‡æ»¤
- é¢‘ç‡é™åˆ¶

### 3. æƒé™æ§åˆ¶
- ç»†ç²’åº¦æƒé™ç®¡ç†
- APIè®¿é—®æ§åˆ¶
- æ•°æ®éš”ç¦»

## ğŸ“ æµ‹è¯•ç­–ç•¥

### 1. å•å…ƒæµ‹è¯•
- æ¨¡å‹éªŒè¯æµ‹è¯•
- APIæ¥å£æµ‹è¯•
- ç»„ä»¶åŠŸèƒ½æµ‹è¯•

### 2. é›†æˆæµ‹è¯•
- æ–‡ä»¶ä¸Šä¼ æµç¨‹
- æ¶ˆæ¯å‘é€æ¥æ”¶
- æƒé™éªŒè¯

### 3. ç”¨æˆ·æµ‹è¯•
- ç•Œé¢æ˜“ç”¨æ€§
- åŠŸèƒ½å®Œæ•´æ€§
- æ€§èƒ½è¡¨ç°
