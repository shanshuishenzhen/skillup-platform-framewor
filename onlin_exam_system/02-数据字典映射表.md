# 数据字典映射表（中英文对照）

## 1. 字段类型定义

| 类型代码 | 类型名称 | 说明 |
|----------|----------|------|
| VARCHAR | 可变长字符串 | 用于存储文本数据，需指定最大长度 |
| INT | 整数 | 用于存储整数值，如ID、数量等 |
| DATETIME | 日期时间 | 用于存储完整的日期和时间信息 |
| TEXT | 长文本 | 用于存储大量文本内容，如题目内容 |
| ENUM | 枚举 | 用于存储预定义的固定值选项 |
| DECIMAL | 小数 | 用于存储精确的数值，如分数 |

## 2. 约束说明

| 约束类型 | 说明 |
|----------|------|
| PK | 主键，唯一标识记录 |
| FK | 外键，关联其他表的主键 |
| UK | 唯一键，保证字段值唯一 |
| NN | 非空，字段值不能为空 |
| AI | 自增，数值自动递增 |

## 3. 核心数据表字典

### 3.1 用户管理模块

#### 用户表 (users)

| 中文字段名 | 英文字段名 | 数据类型 | 长度 | 是否必填 | 约束 | 说明 |
|------------|------------|----------|------|----------|------|------|
| 用户ID | user_id | VARCHAR | 50 | 是 | PK | 用户唯一标识符 |
| 用户名 | username | VARCHAR | 50 | 是 | UK,NN | 登录用户名，系统内唯一 |
| 密码哈希 | password_hash | VARCHAR | 255 | 是 | NN | 加密后的用户密码 |
| 真实姓名 | real_name | VARCHAR | 100 | 是 | NN | 用户真实姓名 |
| 邮箱地址 | email | VARCHAR | 100 | 否 | UK | 用户邮箱，用于找回密码 |
| 手机号码 | phone | VARCHAR | 20 | 否 | UK | 用户联系电话 |
| 用户角色 | user_role | ENUM | - | 是 | NN | admin/examiner/student |
| 用户状态 | user_status | ENUM | - | 是 | NN | active/inactive/locked |
| 创建时间 | created_at | DATETIME | - | 是 | NN | 账户创建时间 |
| 更新时间 | updated_at | DATETIME | - | 是 | NN | 最后更新时间 |
| 最后登录 | last_login | DATETIME | - | 否 | - | 最后登录时间 |

### 3.2 题库管理模块

#### 题目表 (questions)

| 中文字段名 | 英文字段名 | 数据类型 | 长度 | 是否必填 | 约束 | 说明 |
|------------|------------|----------|------|----------|------|------|
| 题目ID | question_id | VARCHAR | 50 | 是 | PK | 题目唯一标识符 |
| 题目类型 | question_type | ENUM | - | 是 | NN | single/multiple/judge/essay |
| 题目内容 | question_content | TEXT | - | 是 | NN | 题目描述和问题内容 |
| 选项内容 | options_content | TEXT | - | 否 | - | JSON格式存储选择题选项 |
| 正确答案 | correct_answer | TEXT | - | 是 | NN | 标准答案或答案要点 |
| 题目分值 | question_score | DECIMAL | 5,2 | 是 | NN | 题目分数，支持小数 |
| 难度等级 | difficulty_level | ENUM | - | 是 | NN | easy/medium/hard |
| 知识点 | knowledge_point | VARCHAR | 200 | 否 | - | 题目涉及的知识点 |
| 题目分类 | question_category | VARCHAR | 100 | 是 | NN | 题目所属分类 |
| 创建人 | created_by | VARCHAR | 50 | 是 | FK,NN | 创建题目的用户ID |
| 创建时间 | created_at | DATETIME | - | 是 | NN | 题目创建时间 |
| 更新时间 | updated_at | DATETIME | - | 是 | NN | 最后更新时间 |
| 题目状态 | question_status | ENUM | - | 是 | NN | active/inactive/draft |

#### 题库分类表 (question_categories)

| 中文字段名 | 英文字段名 | 数据类型 | 长度 | 是否必填 | 约束 | 说明 |
|------------|------------|----------|------|----------|------|------|
| 分类ID | category_id | VARCHAR | 50 | 是 | PK | 分类唯一标识符 |
| 分类名称 | category_name | VARCHAR | 100 | 是 | NN | 分类显示名称 |
| 父分类ID | parent_id | VARCHAR | 50 | 否 | FK | 上级分类ID，支持层级结构 |
| 分类描述 | category_desc | TEXT | - | 否 | - | 分类详细描述 |
| 排序序号 | sort_order | INT | - | 是 | NN | 分类显示顺序 |
| 创建时间 | created_at | DATETIME | - | 是 | NN | 分类创建时间 |
| 更新时间 | updated_at | DATETIME | - | 是 | NN | 最后更新时间 |

### 3.3 考试管理模块

#### 考试表 (exams)

| 中文字段名 | 英文字段名 | 数据类型 | 长度 | 是否必填 | 约束 | 说明 |
|------------|------------|----------|------|----------|------|------|
| 考试ID | exam_id | VARCHAR | 50 | 是 | PK | 考试唯一标识符 |
| 考试名称 | exam_name | VARCHAR | 200 | 是 | NN | 考试标题名称 |
| 考试描述 | exam_desc | TEXT | - | 否 | - | 考试详细说明 |
| 考试类型 | exam_type | ENUM | - | 是 | NN | theory/practical/mixed |
| 开始时间 | start_time | DATETIME | - | 是 | NN | 考试开始时间 |
| 结束时间 | end_time | DATETIME | - | 是 | NN | 考试结束时间 |
| 考试时长 | duration_minutes | INT | - | 是 | NN | 考试时长（分钟） |
| 总分 | total_score | DECIMAL | 5,2 | 是 | NN | 考试总分 |
| 及格分数 | pass_score | DECIMAL | 5,2 | 是 | NN | 及格分数线 |
| 考试状态 | exam_status | ENUM | - | 是 | NN | draft/published/ongoing/finished |
| 创建人 | created_by | VARCHAR | 50 | 是 | FK,NN | 创建考试的用户ID |
| 创建时间 | created_at | DATETIME | - | 是 | NN | 考试创建时间 |
| 更新时间 | updated_at | DATETIME | - | 是 | NN | 最后更新时间 |

#### 试卷题目关联表 (exam_questions)

| 中文字段名 | 英文字段名 | 数据类型 | 长度 | 是否必填 | 约束 | 说明 |
|------------|------------|----------|------|----------|------|------|
| 关联ID | relation_id | VARCHAR | 50 | 是 | PK | 关联记录唯一标识 |
| 考试ID | exam_id | VARCHAR | 50 | 是 | FK,NN | 关联的考试ID |
| 题目ID | question_id | VARCHAR | 50 | 是 | FK,NN | 关联的题目ID |
| 题目序号 | question_order | INT | - | 是 | NN | 题目在试卷中的顺序 |
| 题目分值 | question_score | DECIMAL | 5,2 | 是 | NN | 该题在此考试中的分值 |
| 创建时间 | created_at | DATETIME | - | 是 | NN | 关联创建时间 |

### 3.4 成绩管理模块

#### 考试成绩表 (exam_scores)

| 中文字段名 | 英文字段名 | 数据类型 | 长度 | 是否必填 | 约束 | 说明 |
|------------|------------|----------|------|----------|------|------|
| 成绩ID | score_id | VARCHAR | 50 | 是 | PK | 成绩记录唯一标识 |
| 考试ID | exam_id | VARCHAR | 50 | 是 | FK,NN | 关联的考试ID |
| 学生ID | student_id | VARCHAR | 50 | 是 | FK,NN | 参考学生的用户ID |
| 总分 | total_score | DECIMAL | 5,2 | 是 | NN | 学生获得的总分 |
| 客观题得分 | objective_score | DECIMAL | 5,2 | 否 | - | 客观题自动评分得分 |
| 主观题得分 | subjective_score | DECIMAL | 5,2 | 否 | - | 主观题人工评分得分 |
| 是否及格 | is_passed | ENUM | - | 是 | NN | yes/no |
| 考试状态 | exam_status | ENUM | - | 是 | NN | submitted/grading/completed |
| 开始时间 | start_time | DATETIME | - | 否 | - | 学生开始答题时间 |
| 提交时间 | submit_time | DATETIME | - | 否 | - | 学生提交答案时间 |
| 评分人 | graded_by | VARCHAR | 50 | 否 | FK | 评分教师的用户ID |
| 评分时间 | graded_at | DATETIME | - | 否 | - | 完成评分的时间 |
| 创建时间 | created_at | DATETIME | - | 是 | NN | 成绩记录创建时间 |
| 更新时间 | updated_at | DATETIME | - | 是 | NN | 最后更新时间 |

#### 答题记录表 (student_answers)

| 中文字段名 | 英文字段名 | 数据类型 | 长度 | 是否必填 | 约束 | 说明 |
|------------|------------|----------|------|----------|------|------|
| 答题ID | answer_id | VARCHAR | 50 | 是 | PK | 答题记录唯一标识 |
| 考试ID | exam_id | VARCHAR | 50 | 是 | FK,NN | 关联的考试ID |
| 学生ID | student_id | VARCHAR | 50 | 是 | FK,NN | 答题学生的用户ID |
| 题目ID | question_id | VARCHAR | 50 | 是 | FK,NN | 答题的题目ID |
| 学生答案 | student_answer | TEXT | - | 否 | - | 学生提交的答案内容 |
| 是否正确 | is_correct | ENUM | - | 否 | - | correct/incorrect/partial |
| 得分 | score | DECIMAL | 5,2 | 否 | - | 该题获得的分数 |
| 答题时间 | answer_time | DATETIME | - | 否 | - | 学生答题时间 |
| 创建时间 | created_at | DATETIME | - | 是 | NN | 答题记录创建时间 |
| 更新时间 | updated_at | DATETIME | - | 是 | NN | 最后更新时间 |

### 3.5 系统日志模块

#### 操作日志表 (system_logs)

| 中文字段名 | 英文字段名 | 数据类型 | 长度 | 是否必填 | 约束 | 说明 |
|------------|------------|----------|------|----------|------|------|
| 日志ID | log_id | VARCHAR | 50 | 是 | PK | 日志记录唯一标识 |
| 用户ID | user_id | VARCHAR | 50 | 否 | FK | 操作用户ID |
| 操作类型 | action_type | VARCHAR | 50 | 是 | NN | 操作类型标识 |
| 操作描述 | action_desc | TEXT | - | 是 | NN | 操作详细描述 |
| 操作模块 | module_name | VARCHAR | 50 | 是 | NN | 操作所属模块 |
| 请求IP | request_ip | VARCHAR | 45 | 否 | - | 操作来源IP地址 |
| 请求参数 | request_params | TEXT | - | 否 | - | 请求参数JSON格式 |
| 响应结果 | response_result | TEXT | - | 否 | - | 操作响应结果 |
| 操作状态 | operation_status | ENUM | - | 是 | NN | success/failed/error |
| 操作时间 | operation_time | DATETIME | - | 是 | NN | 操作发生时间 |
| 创建时间 | created_at | DATETIME | - | 是 | NN | 日志记录创建时间 |

## 4. 数据关系说明

### 4.1 主要外键关系

- `questions.created_by` → `users.user_id`
- `exams.created_by` → `users.user_id`
- `exam_questions.exam_id` → `exams.exam_id`
- `exam_questions.question_id` → `questions.question_id`
- `exam_scores.exam_id` → `exams.exam_id`
- `exam_scores.student_id` → `users.user_id`
- `exam_scores.graded_by` → `users.user_id`
- `student_answers.exam_id` → `exams.exam_id`
- `student_answers.student_id` → `users.user_id`
- `student_answers.question_id` → `questions.question_id`
- `system_logs.user_id` → `users.user_id`
- `question_categories.parent_id` → `question_categories.category_id`

### 4.2 索引建议

为提高查询性能，建议在以下字段上创建索引：

- `users.username` (唯一索引)
- `users.email` (唯一索引)
- `questions.question_type`
- `questions.question_category`
- `exams.exam_status`
- `exams.start_time`
- `exam_scores.exam_id`
- `exam_scores.student_id`
- `student_answers.exam_id`
- `student_answers.student_id`
- `system_logs.user_id`
- `system_logs.operation_time`