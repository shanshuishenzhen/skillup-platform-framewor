# 用户批量导入模板使用说明

## 概述

本文档详细说明了用户批量导入Excel模板的使用方法，支持80%用户通过批量导入的管理需求。

## 模板文件

- **模板文件**: `user-import-template.csv`
- **编码格式**: UTF-8
- **分隔符**: 英文逗号 (,)
- **最大导入数量**: 建议单次不超过1000条记录

## 字段说明

### 必填字段（带*号）

| 中文表头 | 英文字段名 | 类型 | 说明 | 示例 |
|----------|------------|------|------|------|
| 姓名* | name | 文本 | 用户姓名，2-50个字符 | 张三 |
| 手机号* | phone | 文本 | 手机号码，11位数字 | 13800138000 |
| 身份证号码* | id_card | 文本 | 身份证号码，18位 | 110101199001011234 |
| 角色* | role | 枚举 | 用户角色：admin/expert/teacher/student/user | user |
| 密码* | password | 文本 | 初始密码，至少6位字符 | 123456 |

### 可选字段

| 中文表头 | 英文字段名 | 类型 | 说明 | 示例 | 默认值 |
|----------|------------|------|------|-------|-------|
| 邮箱 | email | 文本 | 邮箱地址 | zhangsan@example.com | 空 |
| 员工ID | employee_id | 文本 | 员工工号，唯一标识 | EMP001 | 空 |
| 部门 | department | 文本 | 部门名称 | 技术部 | 空 |
| 职位 | position | 文本 | 职位名称 | 软件工程师 | 空 |
| 组织机构 | organization | 文本 | 组织机构 | 北京分公司 | 空 |

## 字段值规范

### 用户角色 (role)
- `admin`: 管理员
- `expert`: 专家
- `teacher`: 教师
- `student`: 学生
- `user`: 普通用户（默认）

## 数据验证规则

### 格式验证
1. **手机号**: 必须是11位数字
2. **身份证号码**: 必须是18位有效身份证号码格式
3. **邮箱**: 必须符合邮箱格式规范（可选字段）
4. **员工ID**: 在系统中必须唯一（可选字段）
5. **密码**: 至少6位字符
6. **角色**: 必须是有效的角色值（admin/expert/teacher/student/user）

### 业务规则
1. **重复检查**: 系统会检查手机号和身份证号码的重复
2. **角色权限**: 不同角色具有不同的系统权限
3. **部门组织**: 建议使用标准的部门和组织名称

## 导入流程

### 1. 准备数据
1. 下载模板文件 `user-import-template.csv`
2. 使用Excel或其他表格软件打开
3. 按照字段说明填写用户数据
4. 保存为CSV格式（UTF-8编码）

### 2. 数据检查
- 确保必填字段都已填写
- 检查数据格式是否正确
- 验证员工工号和手机号无重复
- 确认考试权限格式正确

### 3. 执行导入
1. 登录管理后台
2. 进入用户管理 → 批量导入
3. 选择准备好的CSV文件
4. 设置导入选项：
   - 跳过重复记录
   - 更新已存在用户
   - 默认密码设置
5. 点击开始导入

### 4. 结果确认
- 查看导入结果报告
- 检查成功/失败记录数
- 处理导入错误（如有）
- 验证用户数据正确性

## 常见错误及解决方案

### 数据格式错误
- **手机号格式错误**: 确保是11位数字
- **身份证号码格式错误**: 确保是18位有效身份证号码
- **邮箱格式错误**: 检查邮箱地址格式（如果填写）
- **角色值错误**: 使用有效的角色值（admin/expert/teacher/student/user）

### 重复数据错误
- **手机号重复**: 确保每个手机号只出现一次
- **身份证号码重复**: 确保每个身份证号码只出现一次
- **员工ID重复**: 检查Excel中是否有重复的员工ID（如果填写）
- **与系统数据重复**: 检查是否与已有用户冲突

### 必填字段错误
- **缺少必填字段**: 确保姓名、手机号、身份证号码、角色、密码都已填写
- **密码长度不足**: 密码至少需要6位字符

## 批量导入最佳实践

### 数据准备
1. **分批导入**: 建议每批不超过500条记录
2. **数据清洗**: 导入前清理重复和无效数据
3. **备份原数据**: 保留原始数据文件备份

### 导入策略
1. **测试导入**: 先用少量数据测试导入流程
2. **错误处理**: 及时处理导入错误，避免数据不一致
3. **权限验证**: 导入后验证用户权限配置正确

### 后续管理
1. **密码通知**: 及时通知用户初始密码
2. **权限调整**: 根据实际需要调整用户权限
3. **数据同步**: 确保与外部系统数据同步

## 技术支持

如遇到导入问题，请联系技术支持团队，并提供：
1. 导入的CSV文件
2. 错误信息截图
3. 导入时间和批次ID
4. 具体的错误描述

---

**更新日期**: 2024-01-20  
**版本**: v1.0  
**适用系统**: 技能等级学习平台 v2.0+